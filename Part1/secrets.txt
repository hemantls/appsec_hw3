Found the MYSQL_ROOT_PASSWORD in the following yaml files

./db/k8/db-deployment.yaml
./GiftcardSite/k8/django-deploy.yaml

To convert it into a secret, we first convert it into base64 using the following command

echo -n 'thisisatestthing.' | base64

The output of the echo command is the base64 version of the password.

Now, we make a new yaml file called part1-secrets.yaml and put the base64 version of the password in it.

Kubectl apply -f part1-secrets.yaml

Setting.py has a secret key

We create a secret using the following commands

Echo -n “(value of secret key)” > ./djando-secret-key.txt

Kubectl create secret generic part1-django-secrets --from-file=./django-secret-key.txt

By typing “kubectl get secrets”, we can see that both the secrets part1-secrets and part1-django-secrets have been added.

We add the value of the secret keys created as environment variables in Giftcardsite/k8/django-deploy.yaml and db/k8/db-deployment.yaml

We also add the environment variable using os.environ in settings.py for SECRET_KEY

We apply the other yaml files that we have edited

Kubectl apply -f db-deployment.yaml
Kubectl apply -f django-deploy.yaml

We now delete all pods using

Kubectl delete pods --all

Now followed all the commands from the set up phase to redeploy the website.

All components worked as expected and the site was deployed successfully, after securing the secrets.
